!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).UdUtils={})}(this,function(exports){"use strict";function isZero(t){return/^0x0*$/.test(t)}var formatCurrency=function(t,e,o,n){if(void 0===e&&(e=2),void 0===t||""===t)return"";o=(o=void 0===o?!1:o)||!1;n=parseFloat(""+(t=(""+t)*(n=void 0===n?1:n)));if(!isNaN(n)){var t=(""+(t=scientificNotationToString(t))).split("."),r=t[0],t=(t=t[1])&&t.slice(0,e),a=""+(n=parseFloat(t)?r+"."+t:r),i=a.indexOf(".");if(i<0&&(i=a.length,a+="."),!o)for(;a.length<=i+e;)a+="0";for(var t=a.split("."),c=t[0],r=t[1],s=0;s<Math.floor((c.length-(1+s))/3);s++)c=c.substring(0,c.length-(4*s+3))+","+c.substring(c.length-(4*s+3));return~c.indexOf("-,")&&(c=c.replace("-,","-")),r&&0<r.length?c+"."+r:c}},formatToUsd=function(t,e,o,n){return void 0===e&&(e=2),void 0!==t&&""!==t?"$"+formatCurrency(t||0,e,o,n):""},formatToPercent=function(t,e,o){return void 0===e&&(e=2),void 0===o&&(o=100),void 0!==t&&""!==t?parseFloat(""+(""+t)*o).toFixed(e)+"%":""},formatStrMiddleEllipsis=function(t,e,o){return(o=void 0===o?4:o)+(e=void 0===e?6:e)<(t=void 0===t?"":t).length?(o=t.substring(t.length-o),t.substring(0,e)+"..."+o):t},formatDate=function(t,e,o,n){var r,a,i,c,s;if(void 0===e&&(e="/"),void 0===o&&(o=!1),void 0===n&&(n=":"),t)return s=(t=new Date(+(""+t))).getFullYear(),r=("0"+(1+t.getMonth())).slice(-2),a=("0"+t.getDate()).slice(-2),i=("0"+t.getHours()).slice(-2),c=("0"+t.getMinutes()).slice(-2),t=("0"+t.getSeconds()).slice(-2),s="".concat(s).concat(e).concat(r).concat(e).concat(a),o?"".concat(s," ").concat(i).concat(n).concat(c).concat(n).concat(t):s},getBase64=function(n){return new Promise(function(t,e){var o=new FileReader;o.readAsDataURL(n),o.onload=function(){return t(o.result)},o.onerror=function(t){return e(t)}})},secondToDay=function(t){return t/60/60/24},monthDayDiff=function(t,e){var o,n,r=new Date(t),t=new Date(e),e=t.getFullYear()-r.getFullYear(),a=t.getMonth()-r.getMonth(),i=t.getDate()-r.getDate();return a<0&&(e--,a=t.getMonth()+(12-r.getMonth())),i<0&&(a--,n=void 0,n=6<(o=[1,3,5,7,8,10,12,4,6,9,11,2].findIndex(function(t){return t===1+r.getMonth()}))?6<o&&o<=10?30:28:31,i=t.getDate()+(n-r.getDate())),[e,a,i]};function getWeek(t){return[0,1,2,3,4,5,6][new Date(t).getDay()]}function scientificNotationToString(t){var e,o,n=""+t;return/e/.test(n)?(e=/e-/.test(n)?!1:!0,o=+(""+(null==(o=n.match(/\d+$/))?void 0:o[0])),n=null==(n=n.match(/^[\d.]+/))?void 0:n[0].replace(/\./,""),(e?null==n?void 0:n.padEnd(1+o,"0"):null==n?void 0:n.padStart(o+n.length,"0").replace(/^0/,"0."))||""):""+t}function valueToPeriod(t){var e,t=t<1e3?(e=1,""):t<1e6?(e=1e3,"K"):t<1e8?(e=1e6,"M"):(e=1e9,"B");return{denominator:e,unit:t}}function formatMoney(t,e){var e=valueToPeriod(e||t),o=e.unit;return formatCurrency(t/e.denominator,2)+""+(0<t?o:"")}var textMap={"zh-CN":{minute:"分钟前",minutes:"分钟前",hour:"小时前",hours:"小时前",day:"天前",days:"天前",month:"个月前",months:"个月前"},en:{minute:"minute ago",minutes:"minutes ago",hour:"hour ago",hours:"hours ago",day:"day ago",days:"days ago",month:"month ago",months:"months ago"}};function formatTimeToDays(t,e,o,n){void 0===e&&(e="zh-CN"),void 0===n&&(n=4);var r,a="";return(o=void 0===o?1:o)<=1&&t<36e5||1===n&&36e5<=t?a="".concat(r=Math.ceil(t/1e3/60)," ").concat(1===r?textMap[e].minute:textMap[e].minutes):o<=2&&t<864e5||2===n&&36e5<=t?a="".concat(r=Math.ceil(t/1e3/60/60)," ").concat(1===r?textMap[e].hour:textMap[e].hours):o<=3&&t<2592e6||3===n&&2592e6<=t?a="".concat(r=Math.ceil(t/1e3/60/60/24)," ").concat(1===r?textMap[e].day:textMap[e].days):4<o&&n<4||(a="".concat(r=Math.ceil(t/1e3/60/60/24/30)," ").concat(1===r?textMap[e].month:textMap[e].months)),a}function dateUtc2Local(t){return new Date(t)}function parseFromMillion(t){return t/100}function changeURLArg(url,arg,arg_val){var pattern=arg+"=([^&]*)",replaceText=arg+"="+arg_val,tmp,tmp;return url.match(pattern)?(tmp="/("+arg+"=)([^&]*)/gi",tmp=url.replace(eval(tmp),replaceText),tmp):url.match("[?]")?url+"&"+replaceText:url+"?"+replaceText}var fixedDecimals=function(t,e){var o,n,r;return t&&e?(n=(o=(""+t).split("."))[0],(r=o[1])&&e<r.length?(+(""+t)).toFixed(e):r||1<o.length?n+"."+r:n):""+t};exports.changeURLArg=changeURLArg,exports.dateUtc2Local=dateUtc2Local,exports.fixedDecimals=fixedDecimals,exports.formatCurrency=formatCurrency,exports.formatDate=formatDate,exports.formatMoney=formatMoney,exports.formatStrMiddleEllipsis=formatStrMiddleEllipsis,exports.formatTimeToDays=formatTimeToDays,exports.formatToPercent=formatToPercent,exports.formatToUsd=formatToUsd,exports.getBase64=getBase64,exports.getWeek=getWeek,exports.isZero=isZero,exports.monthDayDiff=monthDayDiff,exports.parseFromMillion=parseFromMillion,exports.scientificNotationToString=scientificNotationToString,exports.secondToDay=secondToDay});
